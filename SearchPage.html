<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouHealth Search</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* General body styling for the full-screen background and font */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Custom styling for specialty buttons */
        .specialty-button {
            transition: all 0.3s ease;
        }

        .specialty-button.active {
            transform: scale(1.05);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            background-color: #d1e5f8; /* Light blue background for active state */
            color: #1e40af; /* Darker blue text for active state */
        }

        /* Custom styling for the modal overlay and profile card */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: opacity 0.3s ease;
        }

        .modal-content {
            max-height: 90vh; /* Set max height for scrollability */
        }
    </style>
</head>
<body class="bg-blue-900 text-gray-800">

    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="flex items-center justify-between max-w-7xl mx-auto px-4 py-2 md:px-6">
            <div class="flex items-center space-x-2">
                <img src="istockphoto-1321617070-612x612-removebg-preview.png" onerror="this.onerror=null;this.src='https://placehold.co/40x40/e2e8f0/4b5563?text=YH';" alt="YouHealth Logo" class="h-10 w-10 rounded-xl">
                <a href="YouHealthHomepage.html" class="text-xl md:text-2xl font-extrabold tracking-wide text-blue-900 cursor-pointer">YouHealth</a>
            </div>

            <nav class="hidden md:flex flex-1 justify-center space-x-8">
                <a href="Healthdashboard.html" class="font-medium text-gray-600 hover:text-blue-900 transition duration-300">Dashboard</a>
                <a href="#Search.Page" class="font-bold text-blue-900 hover:text-blue-900 transition duration-300">Search</a>
                <a href="Appointmentspage.html" class="font-medium text-gray-900 hover:text-blue-900 transition duration-300">Appointments</a>
                <a href="Medicationspage.html" class="font-medium text-gray-900 hover:text-blue-900 transition duration-300">Medications</a>
                <a href="Settings.html" class="font-medium text-gray-900 hover:text-blue-900 transition duration-300">Settings</a>
            </nav>

            <div class="flex items-center space-x-4">
                <button id="sign-out-desktop" class="hidden md:block px-3 py-1 md:px-4 md:py-2 rounded-full text-white font-semibold bg-blue-900 hover:bg-blue-900 transition duration-300 transform hover:scale-105 text-sm">Sign Out</button>

                <button id="mobile-menu-btn" class="md:hidden p-2 rounded-md text-gray-600 hover:text-blue-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 transition-colors duration-200">
                    <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                    </svg>
                </button>
            </div>
        </div>
    </header>

    <div id="mobile-menu" class="hidden md:hidden bg-white shadow-lg z-40 transition-transform transform duration-300 ease-in-out">
        <div class="flex flex-col items-center py-4 space-y-2">
            <a href="Healthdashboard.html" class="w-full text-center py-2 text-gray-600 hover:bg-gray-100 rounded-lg">Dashboard</a>
            <a href="#Search.Page" class="w-full text-center py-2 text-blue-900 font-bold bg-gray-100 rounded-lg">Search</a>
            <a href="Appointmentspage.html" class="w-full text-center py-2 text-gray-900 hover:bg-gray-100 rounded-lg">Appointments</a>
            <a href="Medicationspage.html" class="w-full text-center py-2 text-gray-900 hover:bg-gray-100 rounded-lg">Medications</a>
            <a href="Settings.html" class="w-full text-center py-2 text-gray-900 hover:bg-gray-100 rounded-lg">Settings</a>
            <button id="sign-out-mobile" class="w-2/3 mt-4 py-2 rounded-full text-white font-semibold bg-blue-900 hover:bg-blue-900 transition duration-300 transform hover:scale-105">Sign Out</button>
        </div>
    </div>

    <main class="flex-1 p-4 md:p-8 overflow-y-auto">
        <div class="max-w-7xl mx-auto">
            <h2 class="text-3xl md:text-4xl font-bold text-white mb-6 text-center">Find a Doctor</h2>

            <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
                <div class="flex flex-col md:flex-row items-center gap-4">
                    <div class="relative w-full">
                        <input type="text" id="doctor-search" placeholder="Search for a doctor or specialty..." class="w-full px-5 py-3 pr-12 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300 text-gray-700 placeholder-gray-400">
                        <svg xmlns="http://www.w3.org/2000/svg" class="absolute right-4 top-1/2 -translate-y-1/2 h-6 w-6 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg>
                    </div>
                </div>
            </div>

            <div class="mb-8">
                <h3 class="text-xl font-semibold text-white mb-4">Popular Specialties</h3>
                <div id="specialty-buttons" class="flex flex-wrap gap-3">
                    </div>
            </div>

            <div id="results-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                </div>
        </div>
    </main>

    <div id="doctor-profile-modal" class="modal-overlay hidden opacity-0 transition-opacity duration-300">
        <div class="modal-content bg-white rounded-2xl shadow-2xl p-6 md:p-8 w-11/12 max-w-xl mx-4 overflow-y-auto transform scale-95 opacity-0 transition-all duration-300">
            <div class="flex justify-between items-center mb-6">
                <h3 id="profile-name" class="text-2xl font-bold text-gray-900"></h3>
                <button id="close-modal-btn" class="text-gray-500 hover:text-gray-800 transition-colors duration-200">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>

            <div class="flex flex-col items-center text-center">
                <img id="profile-photo" src="https://placehold.co/120x120/e2e8f0/4b5563?text=Dr" alt="Doctor Photo" class="rounded-full w-24 h-24 mb-4 object-cover border-4 border-white shadow-lg">
                <p id="profile-specialty" class="text-gray-600 font-medium mb-2"></p>
                <div id="profile-rating" class="flex items-center justify-center mb-4 text-yellow-500"></div>
            </div>

            <div class="space-y-6 mt-6">
                <div class="bg-gray-50 rounded-lg p-4">
                    <h4 class="text-lg font-semibold text-gray-700 mb-2">About</h4>
                    <p id="profile-about" class="text-gray-600 text-sm leading-relaxed"></p>
                </div>

                <div class="bg-gray-50 rounded-lg p-4">
                    <h4 class="text-lg font-semibold text-gray-700 mb-4">Availability</h4>
                    <div id="profile-availability" class="grid grid-cols-2 sm:grid-cols-3 gap-3">
                        </div>
                </div>
            </div>

            <div class="mt-8">
                <button id="book-appointment-btn" class="w-full py-3 px-4 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition duration-300">
                    Book Appointment
                </button>
            </div>
        </div>
    </div>

    <footer class="bg-white shadow-md mt-auto">
        <div class="flex flex-col md:flex-row items-center justify-between max-w-7xl mx-auto p-4 text-sm text-gray-600">
            <div>Â© 2025 YouHealth</div>
            <div class="mt-2 md:mt-0 flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4 text-center">
                <span>Made simple</span>
                <a href="#" class="hover:text-blue-600 transition duration-300">Privacy</a>
                <a href="#" class="hover:text-blue-600 transition duration-300">Contact</a>
            </div>
        </div>
    </footer>

    <script>
        // Sample data for doctors
        const allDoctors = [
            { id: 1, name: "Dr. Sarah Chen", specialty: "Cardiologist", experience: "15 years", hospital: "City General Hospital", rating: 4.8 },
            { id: 2, name: "Dr. Ben Carter", specialty: "Dermatologist", experience: "8 years", hospital: "Dermatology & Skin Clinic", rating: 4.5 },
            { id: 3, name: "Dr. Evelyn Reed", specialty: "Pediatrician", experience: "20 years", hospital: "Children's Health Center", rating: 4.9 },
            { id: 4, name: "Dr. Alex Rodriguez", specialty: "Orthopedist", experience: "12 years", hospital: "Orthopedic & Sports Medicine", rating: 4.7 },
            { id: 5, name: "Dr. Maria Lopez", specialty: "Neurologist", experience: "18 years", hospital: "Neurocare Institute", rating: 4.6 },
            { id: 6, name: "Dr. John Williams", specialty: "General Practitioner", experience: "10 years", hospital: "Family Wellness Clinic", rating: 4.9 },
            { id: 7, name: "Dr. Lisa Evans", specialty: "Ophthalmologist", experience: "9 years", hospital: "Vision Care Center", rating: 4.5 },
            { id: 8, name: "Dr. Mark Jensen", specialty: "Psychiatrist", experience: "14 years", hospital: "Mental Health Partners", rating: 4.8 },
            { id: 9, name: "Dr. Fatima Khan", specialty: "Gynecologist", experience: "11 years", hospital: "Women's Health Clinic", rating: 4.7 }
        ];

        // Sample availability data for different days
        const availability = {
            'Cardiologist': ['9:00 AM', '10:30 AM', '1:00 PM', '2:30 PM'],
            'Dermatologist': ['10:00 AM', '11:00 AM', '3:00 PM'],
            'Pediatrician': ['8:30 AM', '10:00 AM', '11:30 AM', '1:00 PM'],
            'Orthopedist': ['9:00 AM', '10:00 AM', '1:30 PM'],
            'Neurologist': ['10:00 AM', '12:00 PM', '2:00 PM', '4:00 PM'],
            'General Practitioner': ['9:00 AM', '10:00 AM', '11:00 AM', '1:00 PM', '2:00 PM', '3:00 PM'],
            'Ophthalmologist': ['9:30 AM', '11:00 AM', '2:00 PM', '3:30 PM'],
            'Psychiatrist': ['10:00 AM', '11:30 AM', '1:00 PM'],
            'Gynecologist': ['9:00 AM', '11:00 AM', '1:30 PM', '3:00 PM'],
        };

        // Sample 'About' section text
        const aboutText = {
            'Cardiologist': "Dr. Chen is a board-certified cardiologist specializing in the diagnosis and treatment of heart conditions. With over 15 years of experience, she is dedicated to providing compassionate, patient-centered care and promoting heart health through preventative medicine.",
            'Dermatologist': "Dr. Carter is an experienced dermatologist with a focus on both medical and cosmetic skin care. He is skilled in treating a wide range of skin conditions and is passionate about helping patients achieve healthy, radiant skin.",
            'Pediatrician': "Dr. Reed has been a trusted pediatrician for over two decades, providing comprehensive care for infants, children, and adolescents. Her warm and friendly approach ensures a comfortable experience for her young patients and their families.",
            'Orthopedist': "Dr. Rodriguez specializes in the musculoskeletal system, with a strong focus on sports injuries and rehabilitation. He is committed to helping his patients regain mobility and get back to their active lifestyles.",
            'Neurologist': "Dr. Lopez is a highly respected neurologist with expertise in complex neurological disorders. She takes a holistic approach to patient care, combining cutting-edge treatments with personalized care plans.",
            'General Practitioner': "Dr. Williams is a dedicated general practitioner, serving as a primary care physician for families in the community. He focuses on preventative care and managing chronic health conditions to help patients live their healthiest lives.",
            'Ophthalmologist': "Dr. Evans is an ophthalmologist committed to providing the highest quality eye care. She specializes in routine eye exams, vision correction, and the treatment of eye diseases.",
            'Psychiatrist': "Dr. Jensen is a compassionate psychiatrist who provides support and treatment for a variety of mental health conditions. He creates a safe, non-judgmental space for patients to discuss their concerns and work towards healing.",
            'Gynecologist': "Dr. Khan is a compassionate and skilled gynecologist dedicated to providing comprehensive care for women at all stages of life. She focuses on preventative care, reproductive health, and empowering women to make informed health decisions."
        };

        /**
         * Renders a list of doctor cards into the results container.
         * The entire card is now clickable.
         * @param {Array<Object>} doctors - The array of doctor objects to display.
         */
        function renderResults(doctors) {
            const container = document.getElementById('results-container');
            container.innerHTML = ''; // Clear previous results

            if (doctors.length === 0) {
                container.innerHTML = '<p class="text-center text-gray-500 py-8">No doctors found matching your search.</p>';
                return;
            }

            doctors.forEach(doctor => {
                const doctorCard = `
                    <div class="bg-white rounded-xl shadow-md p-6 flex flex-col items-center text-center transition-all duration-300 hover:shadow-xl hover:scale-[1.02] cursor-pointer" data-id="${doctor.id}">
                        <img src="https://placehold.co/100x100/e2e8f0/4b5563?text=Dr" alt="Dr. ${doctor.name}" class="rounded-full w-24 h-24 mb-4 object-cover border-4 border-white shadow-lg">
                        
                        <h4 class="text-xl font-bold text-gray-900">${doctor.name}</h4>
                        <p class="text-blue-900 font-medium mb-1">${doctor.specialty}</p>
                        <p class="text-sm text-gray-500 mb-2">${doctor.experience} experience</p>
                        
                        <div class="flex items-center justify-center mb-4 text-yellow-500">
                            ${generateRatingStars(doctor.rating)}
                            <span class="text-gray-800 font-semibold ml-2">${doctor.rating.toFixed(1)}</span>
                        </div>
                    </div>
                `;
                container.innerHTML += doctorCard;
            });
        }

        /**
         * Generates star icons for a given rating.
         * @param {number} rating - The doctor's rating.
         * @returns {string} HTML string of star icons.
         */
        function generateRatingStars(rating) {
            const fullStar = `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M9.049 2.927c.3-.921 1.69-.921 1.99 0l1.242 3.824a1 1 0 00.95.691h4.022c.969 0 1.371 1.24.588 1.81l-3.25 2.364a1 1 0 00-.364 1.118l1.242 3.824c.3.921-.755 1.688-1.54 1.118l-3.25-2.364a1 1 0 00-1.176 0l-3.25 2.364c-.784.57-1.84-.197-1.54-1.118l1.242-3.824a1 1 0 00-.364-1.118L2.927 9.252c-.783-.57-.381-1.81.588-1.81h4.022a1 1 0 00.95-.691l1.242-3.824z" /></svg>`;
            const emptyStar = `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.69-.921 1.99 0l1.242 3.824a1 1 0 00.95.691h4.022c.969 0 1.371 1.24.588 1.81l-3.25 2.364a1 1 0 00-.364 1.118l1.242 3.824c.3.921-.755 1.688-1.54 1.118l-3.25-2.364a1 1 0 00-1.176 0l-3.25 2.364c-.784.57-1.84-.197-1.54-1.118l1.242-3.824a1 1 0 00-.364-1.118L2.927 9.252c-.783-.57-.381-1.81.588-1.81h4.022a1 1 0 00.95-.691l1.242-3.824z" /></svg>`;

            let stars = '';
            const fullStars = Math.floor(rating);
            for (let i = 0; i < fullStars; i++) {
                stars += fullStar;
            }
            const remainingStars = 5 - fullStars;
            for (let i = 0; i < remainingStars; i++) {
                stars += emptyStar;
            }
            return stars;
        }

        /**
         * Populates and shows the doctor profile modal.
         * @param {Object} doctor - The doctor object to display.
         */
        function showDoctorProfile(doctor) {
            const modal = document.getElementById('doctor-profile-modal');

            document.getElementById('profile-name').textContent = doctor.name;
            document.getElementById('profile-specialty').textContent = doctor.specialty;
            document.getElementById('profile-rating').innerHTML = generateRatingStars(doctor.rating) + `<span class="text-gray-800 font-semibold ml-2">${doctor.rating.toFixed(1)}</span>`;
            document.getElementById('profile-about').textContent = aboutText[doctor.specialty] || "No description available.";

            // Render availability slots
            const availabilityContainer = document.getElementById('profile-availability');
            availabilityContainer.innerHTML = '';
            const doctorAvailability = availability[doctor.specialty] || [];
            if (doctorAvailability.length > 0) {
                doctorAvailability.forEach(slot => {
                    const slotHtml = `<div class="bg-white border border-gray-200 rounded-lg p-3 text-center text-sm font-semibold text-gray-800 cursor-pointer hover:bg-blue-100 hover:border-blue-300 transition-colors duration-200">${slot}</div>`;
                    availabilityContainer.innerHTML += slotHtml;
                });
            } else {
                availabilityContainer.innerHTML = '<p class="text-center text-gray-500 col-span-full">No availability this week.</p>';
            }

            // Animate the modal in
            modal.classList.remove('hidden');
            setTimeout(() => {
                modal.classList.add('opacity-100');
                modal.querySelector('.modal-content').classList.remove('scale-95', 'opacity-0');
            }, 10);
        }

        /**
         * Hides the doctor profile modal.
         */
        function hideDoctorProfile() {
            const modal = document.getElementById('doctor-profile-modal');
            modal.classList.add('opacity-0');
            modal.querySelector('.modal-content').classList.add('scale-95', 'opacity-0');

            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        /**
         * Handles the search input and filters the doctor list.
         */
        function handleSearch(searchTerm) {
            const filteredDoctors = allDoctors.filter(doctor => {
                const name = doctor.name.toLowerCase();
                const specialty = doctor.specialty.toLowerCase();
                return name.includes(searchTerm) || specialty.includes(searchTerm);
            });

            renderResults(filteredDoctors);
        }

        /**
         * Dynamically generates the specialty buttons from the `allDoctors` data.
         */
        function renderSpecialtyButtons() {
            const specialtyContainer = document.getElementById('specialty-buttons');
            // Use a Set to get unique specialties
            const specialties = [...new Set(allDoctors.map(doctor => doctor.specialty))];

            specialties.forEach(specialty => {
                const button = document.createElement('button');
                button.classList.add('specialty-button', 'px-4', 'py-2', 'rounded-full', 'bg-white', 'text-gray-600', 'font-medium', 'border', 'border-gray-200');
                button.textContent = specialty;
                button.dataset.specialty = specialty;
                specialtyContainer.appendChild(button);
            });
        }

        /**
         * Handles the click event on a specialty button.
         */
        function handleSpecialtyClick(event) {
            document.querySelectorAll('.specialty-button').forEach(btn => {
                btn.classList.remove('active');
            });

            event.target.classList.add('active');
            const searchInput = document.getElementById('doctor-search');
            searchInput.value = event.target.dataset.specialty;
            handleSearch(searchInput.value.toLowerCase());
        }

        // Event listeners to trigger search on input and button clicks
        document.addEventListener('DOMContentLoaded', () => {
            const searchInput = document.getElementById('doctor-search');
            const specialtyContainer = document.getElementById('specialty-buttons');
            const resultsContainer = document.getElementById('results-container');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            const signOutDesktopBtn = document.getElementById('sign-out-desktop');
            const signOutMobileBtn = document.getElementById('sign-out-mobile');

            // Handle search when user types
            searchInput.addEventListener('keyup', (event) => {
                document.querySelectorAll('.specialty-button').forEach(btn => {
                    btn.classList.remove('active');
                });
                handleSearch(event.target.value.toLowerCase());
            });

            // Handle click on a doctor card
            resultsContainer.addEventListener('click', (event) => {
                const card = event.target.closest('[data-id]');
                if (card) {
                    const doctorId = parseInt(card.dataset.id);
                    const doctor = allDoctors.find(d => d.id === doctorId);
                    if (doctor) {
                        showDoctorProfile(doctor);
                    }
                }
            });

            // Handle close button on modal
            closeModalBtn.addEventListener('click', hideDoctorProfile);

            // Hide modal when clicking outside the content
            document.getElementById('doctor-profile-modal').addEventListener('click', (event) => {
                if (event.target === event.currentTarget) {
                    hideDoctorProfile();
                }
            });

            // Handle mobile menu button click
            mobileMenuBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });

            // Handle sign out button clicks
            const handleSignOut = () => {
                // In a real application, you would handle the sign-out process here
                window.location.href = "YouHealthHomepage.html";
            };

            signOutDesktopBtn.addEventListener('click', handleSignOut);
            signOutMobileBtn.addEventListener('click', handleSignOut);


            // Initial rendering
            renderSpecialtyButtons();
            renderResults(allDoctors);
            specialtyContainer.addEventListener('click', handleSpecialtyClick);
        });
    </script>
</body>
</html>