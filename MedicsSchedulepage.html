<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Schedule</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            @apply bg-gray-100 text-gray-900;
        }
        .day-scroller-btn.active {
            @apply bg-blue-900 shadow-lg text-white border-b-2 border-blue-900;
        }
        #daily-appointments-container::-webkit-scrollbar {
            width: 8px;
        }
        #daily-appointments-container::-webkit-scrollbar-track {
            background: #e5e7eb;
        }
        #daily-appointments-container::-webkit-scrollbar-thumb {
            background: #6b7280;
            border-radius: 4px;
        }
        #daily-appointments-container::-webkit-scrollbar-thumb:hover {
            background: #4b5563;
        }
    </style>
</head>
<body class="p-0">

    <div class="min-h-screen flex flex-col">
        <header class="bg-white shadow-sm sticky top-0 z-50">
            <div class="flex items-center justify-between max-w-7xl mx-auto px-4 py-2 md:px-6">
                <div class="flex items-center space-x-2">
                    <div class="flex items-center space-x-2">
                        <img src="istockphoto-1321617070-612x612-removebg-preview.png" alt="YouHealth Logo" class="h-10 w-10 rounded-xl">
                        <a href="YouHealthHomepage.html" class="text-xl md:text-2xl font-extrabold tracking-wide text-blue-900 cursor-pointer">YouHealth</a>
                    </div>
                </div>
                <nav class="hidden md:flex flex-1 justify-center space-x-8">
                    <a href="MedicsDashboard.html" class="nav-link font-medium text-gray-600 hover:text-blue-500 transition duration-300">Dashboard</a>
                    <a href="Medicspatientpage.html" class="nav-link font-medium text-gray-600 hover:text-blue-500 transition duration-300">Patients</a>
                    <a href="#" class="nav-link font-bold text-blue-900 hover:text-blue-900 transition duration-300">Schedule</a>
                    <a href="MedicsMessagingpage.html" class="nav-link font-medium text-gray-900 hover:text-blue-900 transition duration-300">Messages</a>
                    <a href="MedicsSettingspage.html" class="nav-link font-medium text-gray-900 hover:text-blue-900 transition duration-300">Settings</a>
                </nav>
                <div class="flex items-center space-x-4">
                    <button class="hidden md:block px-3 py-1 md:px-4 md:py-2 rounded-full text-white font-semibold bg-blue-900 hover:bg-blue-700 transition duration-300 transform hover:scale-105 text-sm">Sign Out</button>
                    <button id="hamburger-btn" class="md:hidden text-gray-600 hover:text-blue-900 transition duration-300">
                        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </header>

        <div id="mobile-menu" class="hidden md:hidden absolute top-16 left-0 w-full bg-white shadow-lg z-40">
            <nav class="flex flex-col items-center py-4 space-y-4">
                <a href="MedicsDashboard.html" class="nav-link text-lg font-medium text-gray-600 hover:text-blue-900 transition duration-300">Dashboard</a>
                <a href="Medicspatientpage.html" class="nav-link text-lg font-medium text-gray-600 hover:text-blue-900 transition duration-300">Patients</a>
                <a href="#" class="nav-link text-lg font-bold text-blue-900 hover:text-blue-900 transition duration-300">Schedule</a>
                <a href="MedicsMessagingpage.html" class="nav-link text-lg font-medium text-gray-600 hover:text-blue-900 transition duration-300">Messages</a>
                <a href="MedicsSettingspage.html" class="nav-link text-lg font-medium text-gray-600 hover:text-blue-900 transition duration-300">Settings</a>
                <button class="w-full text-center text-lg font-medium py-2 px-4 rounded-full text-white bg-blue-900 hover:bg-blue-700 transition duration-300 mt-4">Sign Out</button>
            </nav>
        </div>

        <main class="flex-grow grid grid-cols-1 lg:grid-cols-3 gap-8 p-6 md:p-8 lg:p-12 bg-blue-900 text-gray-100">

            <section class="lg:col-span-2 space-y-8">
                <div class="bg-white rounded-2xl shadow-xl p-4">
                    <div class="flex overflow-x-auto justify-between space-x-2 sm:space-x-4">
                        </div>
                </div>

                <div class="bg-white rounded-2xl shadow-xl p-6 md:p-8">
                    <div class="flex items-center justify-between mb-6">
                        <button id="prev-month" class="px-4 py-2 rounded-full bg-gray-200 text-gray-900 hover:bg-gray-300 transition-colors duration-200 font-semibold">
                            &lt;
                        </button>
                        <h2 id="current-month-year" class="text-xl md:text-2xl font-bold text-gray-900"></h2>
                        <button id="next-month" class="px-4 py-2 rounded-full bg-gray-200 text-gray-900 hover:bg-gray-300 transition-colors duration-200 font-semibold">
                            &gt;
                        </button>
                    </div>

                    <div class="grid grid-cols-7 gap-2 md:gap-4 mb-4 text-center">
                        <div class="text-gray-400 text-sm md:text-base font-semibold">Sun</div>
                        <div class="text-gray-400 text-sm md:text-base font-semibold">Mon</div>
                        <div class="text-gray-400 text-sm md:text-base font-semibold">Tue</div>
                        <div class="text-gray-400 text-sm md:text-base font-semibold">Wed</div>
                        <div class="text-gray-400 text-sm md:text-base font-semibold">Thu</div>
                        <div class="text-gray-400 text-sm md:text-base font-semibold">Fri</div>
                        <div class="text-gray-400 text-sm md:text-base font-semibold">Sat</div>
                    </div>

                    <div id="calendar-grid" class="grid grid-cols-7 gap-2 md:gap-4">
                        </div>
                </div>
            </section>

            <section class="lg:col-span-1">
                <div class="bg-white rounded-2xl shadow-xl p-6 md:p-8 h-full flex flex-col">
                    <h2 id="daily-view-title" class="text-2xl font-bold text-gray-900 mb-6"></h2>
                    <div id="daily-appointments-container" class="space-y-4 md:space-y-6 overflow-y-auto flex-grow">
                        </div>
                </div>
            </section>
        </main>

        <footer class="bg-white shadow-md mt-auto">
            <div class="flex flex-col md:flex-row items-center justify-between max-w-7xl mx-auto p-4 text-sm text-gray-600">
                <div>&copy; 2025 YouHealth</div>
                <div class="mt-2 md:mt-0 flex space-x-4">
                    <span>Made simple</span>
                    <a href="#" class="hover:text-blue-500 transition duration-300">Privacy</a>
                    <a href="#" class="hover:text-blue-500 transition duration-300">Contact</a>
                </div>
            </div>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const calendarGrid = document.getElementById('calendar-grid');
            const currentMonthYear = document.getElementById('current-month-year');
            const prevMonthBtn = document.getElementById('prev-month');
            const nextMonthBtn = document.getElementById('next-month');
            const weekdayScroller = document.querySelector('.flex.overflow-x-auto');
            const dailyViewTitle = document.getElementById('daily-view-title');
            const dailyAppointmentsContainer = document.getElementById('daily-appointments-container');
            const hamburgerBtn = document.getElementById('hamburger-btn');
            const mobileMenu = document.getElementById('mobile-menu');

            // Sample data for a medical practitioner's schedule.
            const scheduleData = {
                '2024-05-20': [
                    { time: '9:00 AM', patient: 'Jane Doe', reason: 'Annual check-up', status: 'Confirmed' },
                    { time: '10:30 AM', patient: 'John Smith', reason: 'Follow-up on blood pressure', status: 'Confirmed' },
                    { time: '2:00 PM', patient: 'Emily White', reason: 'Consultation for rash', status: 'Pending' }
                ],
                '2024-05-21': [
                    { time: '8:30 AM', patient: 'Michael Brown', reason: 'Flu shot', status: 'Confirmed' },
                    { time: '11:00 AM', patient: 'Sarah Davis', reason: 'Sore throat and fever', status: 'Confirmed' },
                    { time: '4:00 PM', patient: 'David Johnson', reason: 'Medication review', status: 'Canceled' }
                ],
                '2024-05-23': [
                    { time: '10:00 AM', patient: 'Jessica Lee', reason: 'New patient visit', status: 'Confirmed' },
                    { time: '1:00 PM', patient: 'Chris Wilson', reason: 'Physical therapy referral', status: 'Pending' }
                ],
                '2024-06-05': [
                    { time: '9:00 AM', patient: 'Dr. Evans', reason: 'Staff Meeting', status: 'Confirmed' },
                    { time: '11:30 AM', patient: 'Alex Carter', reason: 'Allergy test', status: 'Confirmed' }
                ],
                '2024-06-15': [
                    { time: '10:00 AM', patient: 'Robert Hall', reason: 'Vaccination', status: 'Confirmed' },
                    { time: '2:00 PM', patient: 'Lisa Moore', reason: 'Prescription refill', status: 'Confirmed' }
                ],
            };

            let currentMonth = new Date().getMonth();
            let currentYear = new Date().getFullYear();
            let selectedDate = new Date();

            // Function to render the weekday scroller
            function renderWeekdayScroller() {
                weekdayScroller.innerHTML = '';
                const today = new Date();
                const startOfWeek = new Date(today);
                startOfWeek.setDate(today.getDate() - today.getDay());

                for (let i = 0; i < 7; i++) {
                    const day = new Date(startOfWeek);
                    day.setDate(startOfWeek.getDate() + i);
                    const dayString = day.toISOString().split('T')[0];
                    const button = document.createElement('button');
                    button.classList.add(
                        'day-scroller-btn', 'flex-grow', 'py-3', 'px-2', 'rounded-xl', 'text-center',
                        'hover:bg-gray-200', 'transition-colors', 'duration-200', 'border-b-2', 'border-transparent', 'text-gray-900'
                    );
                    if (dayString === selectedDate.toISOString().split('T')[0]) {
                        button.classList.add('active');
                    }
                    button.innerHTML = `
                        <span class="block text-sm font-medium">${day.toLocaleDateString('en-US', { weekday: 'short' })}</span>
                        <span class="block text-xl font-bold mt-1">${day.getDate()}</span>
                    `;
                    button.dataset.date = dayString;
                    button.addEventListener('click', () => {
                        selectedDate = day;
                        updateUI(selectedDate);
                    });
                    weekdayScroller.appendChild(button);
                }
            }

            // Function to render the monthly calendar
            function renderCalendar() {
                calendarGrid.innerHTML = '';
                const date = new Date(currentYear, currentMonth, 1);
                const firstDayIndex = date.getDay();
                const lastDay = new Date(currentYear, currentMonth + 1, 0).getDate();

                currentMonthYear.textContent = date.toLocaleDateString('en-US', { month: 'long', year: 'numeric' });

                for (let i = 0; i < firstDayIndex; i++) {
                    const emptyDiv = document.createElement('div');
                    calendarGrid.appendChild(emptyDiv);
                }

                for (let day = 1; day <= lastDay; day++) {
                    const dayButton = document.createElement('button');
                    const dayDate = new Date(currentYear, currentMonth, day);
                    const dayString = dayDate.toISOString().split('T')[0];
                    const hasAppointments = scheduleData[dayString] && scheduleData[dayString].length > 0;

                    dayButton.textContent = day;
                    dayButton.dataset.date = dayString;
                    dayButton.classList.add(
                        'day-button', 'h-16', 'flex', 'flex-col', 'items-center', 'justify-center',
                        'rounded-xl', 'font-semibold', 'transition-all', 'duration-200',
                        'text-lg', 'hover:bg-gray-200'
                    );

                    if (hasAppointments) {
                        dayButton.classList.add('relative');
                        const indicator = document.createElement('div');
                        indicator.classList.add('absolute', 'bottom-2', 'w-1.5', 'h-1.5', 'bg-blue-600', 'rounded-full');
                        dayButton.appendChild(indicator);
                    }

                    if (dayString === selectedDate.toISOString().split('T')[0]) {
                        dayButton.classList.add('bg-blue-600', 'text-white', 'shadow-lg');
                    } else {
                        dayButton.classList.add('text-gray-900');
                    }

                    dayButton.addEventListener('click', () => {
                        selectedDate = dayDate;
                        updateUI(selectedDate);
                    });

                    calendarGrid.appendChild(dayButton);
                }
            }

            // Function to display appointments for a specific day
            function displayDailyAppointments(date) {
                dailyAppointmentsContainer.innerHTML = '';
                dailyViewTitle.textContent = `Agenda for ${date.toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric' })}`;

                const dateString = date.toISOString().split('T')[0];
                const appointments = scheduleData[dateString] || [];

                if (appointments.length === 0) {
                    dailyAppointmentsContainer.innerHTML = '<p class="text-gray-400 text-center py-8">No appointments scheduled.</p>';
                    return;
                }

                appointments.forEach(appt => {
                    const statusClass = {
                        'Confirmed': 'border-blue-500',
                        'Pending': 'border-yellow-500',
                        'Canceled': 'border-red-500'
                    }[appt.status];

                    const apptCard = document.createElement('div');
                    apptCard.classList.add('bg-white', 'p-5', 'rounded-lg', 'shadow-md', 'border-l-4', statusClass);
                    apptCard.innerHTML = `
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="font-bold text-xl text-gray-900">${appt.patient}</h3>
                            <span class="text-sm font-semibold text-gray-500">${appt.time}</span>
                        </div>
                        <p class="text-gray-700 mb-2">${appt.reason}</p>
                        <p class="text-xs font-medium uppercase tracking-wide">
                            <span class="inline-block px-2 py-1 rounded-full text-white ${appt.status === 'Confirmed' ? 'bg-blue-600' : appt.status === 'Pending' ? 'bg-yellow-500' : 'bg-red-500'}">
                                ${appt.status}
                            </span>
                        </p>
                    `;
                    dailyAppointmentsContainer.appendChild(apptCard);
                });
            }

            // Function to update the entire UI based on the selected date
            function updateUI(date) {
                document.querySelectorAll('.day-scroller-btn').forEach(btn => btn.classList.remove('active'));
                const dayScrollerButton = document.querySelector(`.day-scroller-btn[data-date="${date.toISOString().split('T')[0]}"]`);
                if (dayScrollerButton) {
                    dayScrollerButton.classList.add('active');
                }

                document.querySelectorAll('.day-button').forEach(btn => {
                    btn.classList.remove('bg-blue-600', 'text-white', 'shadow-lg');
                    btn.classList.add('text-gray-900');
                });

                const selectedDayButton = document.querySelector(`.day-button[data-date="${date.toISOString().split('T')[0]}"]`);
                if (selectedDayButton) {
                    selectedDayButton.classList.remove('text-gray-900');
                    selectedDayButton.classList.add('bg-blue-600', 'text-white', 'shadow-lg');
                }

                displayDailyAppointments(date);
            }

            // Event listeners for monthly navigation
            prevMonthBtn.addEventListener('click', () => {
                currentMonth--;
                if (currentMonth < 0) {
                    currentMonth = 11;
                    currentYear--;
                }
                renderCalendar();
                selectedDate = new Date(currentYear, currentMonth, 1);
                updateUI(selectedDate);
            });

            nextMonthBtn.addEventListener('click', () => {
                currentMonth++;
                if (currentMonth > 11) {
                    currentMonth = 0;
                    currentYear++;
                }
                renderCalendar();
                selectedDate = new Date(currentYear, currentMonth, 1);
                updateUI(selectedDate);
            });

            // Toggle mobile menu visibility
            hamburgerBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });

            // Initial rendering on page load
            renderWeekdayScroller();
            renderCalendar();
            updateUI(selectedDate);
        });
    </script>
</body>
</html>
